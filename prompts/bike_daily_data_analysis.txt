🚲 서울시 따릉이(공공자전거) 일별 이용현황 통합 분석 프롬프트
📍 프로젝트 컨텍스트

데이터셋:
1️⃣ 원시 데이터 → data/raws/bike_daily.csv
 • 기간: 2025-10-06 ~ 2025-11-02
 • 컬럼: STA_LOC, RENT_NM, STAT_DATA, RENT_CNT, RTN_CNT, START_INDEX, END_INDEX, RNUM

2️⃣ 전처리 요약 데이터 → data/processed/bike_summary.csv
 • 컬럼: STA_LOC, RENT_NM, AVG_RENT_CNT, TOTAL_RENT_CNT, AVG_RTN_CNT, TOTAL_RTN_CNT

3️⃣ 기상 데이터
 • data/raw/temperature.csv -> 일별 기온
    기간: 2025-10-01 ~ 2025-11-09
    컬럼: 지점번호, 지점명, 일시, 평균기온(℃), 최고기온(℃), 최고기온시각, 최저기온(℃), 최저기온시각, 일교차
 • data/raw/rainfall.csv -> 일별 강수량
    기간: 2025-10-01 ~ 2025-11-09
    컬럼: 지점번호, 지점명, 일시, 강수량(mm), 1시간최다강수량(mm), 1시간최다강수량 시각
-> 기상 데이터 사용시 2025-10-06 ~ 2025-11-02만 필터링하여 사용용

🔹 데이터 특성

시계열 + 공간 데이터
추가 데이터: 기온, 강수량

기간: 4주주간 일별 수요 변화

단위: 행정구(STA_LOC) / 대여소(RENT_NM)

집계 데이터

일평균(AVG_…) 및  합계(TOTAL_…) 기반 KPI

🎯 분석 목적 및 주요 비즈니스 질문
핵심 목표

운영 효율화 — 수요 불균형 및 순유입 패턴 분석을 통한 재배치 의사결정

핵심 대여소 식별 — 전체 수요의 중심축이 되는 주요 대여소 파악

지역별 인프라 최적화 — 행정구 단위 이용패턴 비교를 통한 투자/보급 우선순위 수립

이상 패턴 감지 — 특정 일자 또는 지역의 비정상적 수요 급등·급감 탐지

🔍 분석 주제 및 핵심 질문
1️⃣ 일별 수요 트렌드 분석 (raw 데이터 기반)

질문

4주 동안 전체 대여·반납 건수는 어떻게 변화했는가?

요일별, 행정구별, 대여소별로 수요 패턴이 다른가?

특정 일자에 급등/급감이 있었는가?

접근

STAT_DATA 기준 일별 총 대여·반납 시계열 그래프

STA_LOC 단위 일평균 비교 그래프프

이동평균 기반 이상치(±2σ, ±3σ) 탐지

예상 인사이트

“평일 주말 비교교 강남·마포구 수요 급등 → 평일 출퇴근 집중 + 금요일 야간 피크 패턴”
"할로윈 주간 이벤트 영향으로 10월 4주차(28-31) 반납량 감소"
“주말은 전체 수요 대비 22% 감소 → 업무지구 중심 수요 구조 확인”

2️⃣ 대여소별 주간 효율성 (summary 데이터 기반)

질문

대여소별 일평균 이용량은 어느 정도인가?

주간 기준 누적 합계 상위·하위 10개 대여소의 차이는?

접근

AVG_RENT_CNT, AVG_RTN_CNT, TOTAL_RENT_CNT, TOTAL_RTN_CNT 이용

파레토 분석 (상위 20% 대여소 → 전체 수요 몇 %)

Top 10 / Bottom 10 대여소 비교교

예상 인사이트

“상위 10개 대여소가 전체 주간 대여량의 38% 차지 → 집중 운영 필요”
“하위 10개 대여소는 평균 이용량 1건 미만 → 거치대 재배치 후보군”

3️⃣ 순유입(Net Flow) 및 불균형 분석

질문

어떤 대여소가 지속적인 순유입(대여>반납) 또는 순유출(반납>대여) 상태인가?

불균형 정도가 심한 지역(행정구)은 어디인가?

순유입 대여소의 지리적 특징은? (주거지/업무지구 중심?)

접근

NET_FLOW = TOTAL_RENT_CNT - TOTAL_RTN_CNT

IMBAL_RATIO = |RENT−RTN| / (RENT+RTN)

상위 10개 불균형 대여소 히트맵
Week별 불균형 변화 라인차트


예상 인사이트

“업무지구 대여소는 순유입 음수(반납>대여), 주거지 대여소는 양수 → 출근/퇴근 패턴 고착화화”
“불균형 상위 5개 대여소가 전체 재배치 요청의 55% 유발”

4️⃣ 일자별 이상치 및 이벤트 감지

질문

특정 일자·지역에서 이상 급등/급감 패턴이 있었는가?

주중 vs 주말 수요 차이가 통계적으로 유의한가?

외부 요인(할로윈의 영향)과의 연관성은?

접근

이동평균 ±2σ 이상 일자 탐지

주중/주말 t-test

이상치 발생 대여소 목록 리포트

예상 인사이트

“10/31 이태원, 홍대입구, 강남역 대여 변화화 — 할로윈 행사 영향 추정”
“주말 평균 대여량 15%↓ → 업무지구 중심 구조 반영”
"1006 ~ 1018 강수량 확인 -> 대여 사용량 감소"

5️⃣ 🌤 날씨 요인 기반 수요 상관 분석 (기온·강수량 연계)

질문

기온과 강수량 변화가 따릉이 이용량에 어떤 영향을 미치는가?

강수 시 이용량 감소폭은 어느 정도인가?

온도 구간별(10℃ 미만 / 10~20℃ / 20℃ 이상) 이용패턴 차이는?

접근

STAT_DATA 기준으로 temperature.csv, rainfall.csv 병합

Pearson 상관계수 계산

강수일(RAINFALL > 0) vs 무강수일 비교 t-test

기온 구간별 평균 대여량 Boxplot

예상 인사이트

“기온 15~20℃ 구간에서 이용량 최고 → 쾌적한 날씨 영향”

“강수일 평균 대여량 35%↓ → 강우 시 외출 회피 경향 명확”

“10/06~10/18 잦은 강수 → 대여량 일시 감소 (날씨 탄력도 약 -0.4)”




📊 시각화 가이드
구분	그래프 형태	주요 인사이트
일별 대여/반납 추이	Line Chart	주간 수요 흐름 확인
대여소별 평균 이용량	Bar Chart	Top10/Bottom10 대여소
행정구별 평균 수요	Horizontal Bar	지역별 균형 비교
불균형 Top10	Bar Chart	재배치 우선 대여소
Net Flow 지도	Heatmap	순유입/순유출 공간 패턴
🧩 핵심 Python 코드 스니펫
import pandas as pd

# Load
df_raw = pd.read_csv("data/raws/bike_weekly.csv")
df_sum = pd.read_csv("data/processed/bike_weekly_summary.csv")

# 파생 변수
df_sum["NET_FLOW"] = df_sum["TOTAL_RENT_CNT"] - df_sum["TOTAL_RTN_CNT"]
df_sum["IMBAL_RATIO"] = (
    abs(df_sum["TOTAL_RENT_CNT"] - df_sum["TOTAL_RTN_CNT"])
    / (df_sum["TOTAL_RENT_CNT"] + df_sum["TOTAL_RTN_CNT"])
).fillna(0)

# 행정구 요약
gu_summary = df_sum.groupby("STA_LOC").agg(
    평균_대여=("AVG_RENT_CNT","mean"),
    평균_반납=("AVG_RTN_CNT","mean"),
    합계_대여=("TOTAL_RENT_CNT","sum"),
    합계_반납=("TOTAL_RTN_CNT","sum"),
    평균_불균형=("IMBAL_RATIO","mean"),
    대여소_수=("RENT_NM","nunique")
).reset_index()

# 상위/하위 대여소
top10_rent = df_sum.nlargest(10, "TOTAL_RENT_CNT")
bottom10_rent = df_sum.nsmallest(10, "TOTAL_RENT_CNT")

top10_imb = df_sum.nlargest(10, "IMBAL_RATIO")

print("Top 10 대여소:\n", top10_rent[["STA_LOC","RENT_NM","TOTAL_RENT_CNT"]])
print("불균형 Top 10 대여소:\n", top10_imb[["STA_LOC","RENT_NM","IMBAL_RATIO"]])

📦 최종 결과물 (Deliverables)

1️⃣ 데이터

data/raws/bike_daily.csv — 일별 이용 로그

data/processed/bike_summary.csv — 주간 요약 지표

2️⃣ 분석 산출물

Top10/Bottom10 리스트 (대여, 반납, 불균형)

행정구별 요약 테이블

순유입·불균형 지도

기온.강수량과 대여 상관 분석

3️⃣ 시각화

outputs/figures/ 폴더 내 주요 그래프 (trend, map, imbalance 등)

4️⃣ 리포트

핵심 발견 3개 + 실행 권고 3개

AM/PM 루틴 개선 및 거치대 조정 제안서

💡 기대 인사이트 요약
주제	핵심 발견	실행 아이디어
수요 집중	상위 10개소 38% 점유	우선 보급 대상 지정
불균형 핫스팟	5개소가 전체 재배치 60% 유발	주 2회 점검·임시 거치대 운영
지역 격차	업무지구>주거지 불균형	출근시간 보급·퇴근시간 회수 루틴
🚀 실행 권고사항

단기 (1~2주)
• 순유입 Top 대여소 AM 보급 강화
• 불균형 상위 대여소 실시간 모니터링

중기 (1~3개월)
• 주말·이벤트 패턴 분리 운영
• 행정구별 KPI 기반 자전거 배분

장기 (3개월+)
• 동적 재배치 최적화 루트 설계
• AI 기반 수요예측 시스템 구축

이 프롬프트 사용법
1️⃣ bike_weekly.csv와 bike_weekly_summary.csv를 로드
2️⃣ 3~5개의 인사이트와 실행 전략 도출
3️⃣ 운영 루틴(보급/회수/증설)에 반영

핵심:
두 데이터(raw + summary)를 함께 활용해
“시간적 흐름(일별)”과 “공간적 집중(대여소별)”을 동시에 해석하라.