# 서울시 따릉이(공공자전거) 데이터 분석 프롬프트

## 프로젝트 컨텍스트

**데이터셋**: 서울시 공공자전거 신규가입자 정보(월별)
**데이터 기간**: 2022년 3월 ~ 2022년 6월 (추정)
**데이터 구조**:
- 대여월 (YYYYMM 형식)
- 이용권코드 (회원 유형: 회원-정기권)
- 성별 (M/F)****
- 연령대코드 (~10대, 20대, 30대, 40대, 50대, 60대, 70대이상, 기타)
- 신규가입자수 (해당 월의 신규 가입자 수)

**데이터 특성**:
- 시계열 데이터 (월별)
- 인구통계 데이터 (성별, 연령대)
- 집계 데이터 (신규 가입자 수)

## 분석 목적 및 핵심 질문

### 주요 비즈니스 목적
1. **성장 전략 수립**: 신규 가입자 확보 및 사용자 기반 확대
2. **타겟 마케팅**: 주요 고객층 식별 및 맞춤형 마케팅
3. **서비스 개선**: 사용자 니즈 파악 및 서비스 최적화
4. **정책 의사결정**: 공공 자전거 정책 및 인프라 투자 우선순위

### 핵심 분석 질문

#### 1. 트렌드 분석 (Trend Analysis)
**질문**:
- 월별 신규 가입자 수는 어떻게 변화하는가?
- 증가/감소 트렌드가 있는가? 그 폭은?
- 계절성이 존재하는가? (봄/여름 증가, 가을/겨울 감소?)
- 특정 월에 급증/급감이 있는가? 그 원인은?

**분석 접근법**:
- 월별 신규 가입자 수 시계열 그래프
- 전월 대비 증감률 (MoM Growth Rate) 계산
- 이동평균을 통한 트렌드 파악
- 외부 요인 고려 (날씨, 정책, 프로모션, 코로나19 등)

**예상 인사이트**:
- "4~6월 봄/초여름 시즌에 신규 가입자가 XXX% 증가"
- "5월에 특히 급증한 이유는 날씨 개선과 프로모션 효과"

#### 2. 성별 분석 (Gender Analysis)
**질문**:
- 남성과 여성 중 누가 더 많이 가입하는가?
- 성비는 어떻게 되는가?
- 성별 간 차이가 시간에 따라 변하는가?
- 성별 격차를 줄일 수 있는 방법은?

**분석 접근법**:
- 전체 기간 성별 누적 가입자 수 비교 (파이차트/바차트)
- 월별 성별 신규 가입자 추이 (라인차트)
- 성비 비율 계산 (M:F ratio)
- 통계적 유의성 검정 (t-test)

**예상 인사이트**:
- "남성 신규 가입자가 여성보다 XX% 많음"
- "여성 가입자 유입을 위한 안전성/편의성 강화 필요"

#### 3. 연령대 분석 (Age Group Analysis)
**질문**:
- 어떤 연령대가 가장 많이 가입하는가?
- 주요 타겟 고객층은 누구인가?
- 연령대별 가입 패턴의 차이는?
- 시간에 따라 연령대 분포가 변하는가?

**분석 접근법**:
- 연령대별 누적 신규 가입자 수 (바차트)
- 연령대 비중 (파이차트 또는 도넛차트)
- 월별 연령대별 추이 (스택 바차트 또는 라인차트)
- 연령대 순위 및 집중도 분석

**예상 인사이트**:
- "20대와 30대가 전체 신규 가입자의 XX%를 차지"
- "청년층 중심의 서비스 → 시니어층 확대 전략 필요"

#### 4. 세그먼트 교차 분석 (Cross-Segment Analysis)
**질문**:
- 성별×연령대 조합에서 어떤 세그먼트가 가장 큰가?
- 각 세그먼트의 특징은 무엇인가?
- 저활용 세그먼트는 어디인가?
- 세그먼트별 맞춤 전략은?

**분석 접근법**:
- 히트맵: 성별(행) × 연령대(열) → 신규 가입자 수
- 세그먼트 프로파일링
- 페르소나 정의 (예: "20대 여성 직장인")
- 저활용 세그먼트 식별 및 기회 분석

**예상 인사이트**:
- "20대 남성이 가장 큰 세그먼트 (XXX명)"
- "60대 이상 여성 세그먼트가 저활용 → 시니어 친화 정책 필요"

#### 5. 성장 잠재력 분석 (Growth Potential)
**질문**:
- 어떤 세그먼트에서 성장이 가속화되는가?
- 성장률이 높은 그룹은?
- 정체되거나 감소하는 세그먼트는?
- 향후 6개월 신규 가입자를 예측하면?

**분석 접근법**:
- 세그먼트별 월별 성장률 (% change)
- CAGR (연평균 성장률) 계산
- 회귀 분석 및 시계열 예측 (Prophet, ARIMA)
- 시나리오 분석 (낙관적/보수적/현실적)

**예상 인사이트**:
- "30대 여성 세그먼트가 월평균 XX% 성장"
- "현재 추세 유지 시 7월에 XXX명 신규 가입 예상"

#### 6. 비교 및 벤치마킹 (Benchmarking)
**질문**:
- 서울시 인구 구조와 비교하면?
- 이용자 분포가 인구 분포를 반영하는가?
- 과소/과다 대표되는 그룹은?
- 시장 침투율은 얼마나 되는가?

**분석 접근법**:
- 서울시 인구통계 데이터와 비교
- 기대 가입자 수 vs. 실제 가입자 수
- 침투율 계산 (신규 가입자 / 해당 인구)
- 격차 분석 (Gap Analysis)

**예상 인사이트**:
- "20대 인구 대비 높은 침투율, 50대+ 낮은 침투율"
- "중장년층 공략이 성장의 열쇠"

## 분석 프레임워크 적용 (ULTRA-THINK)

### U - Understand (이해하기)
1. **데이터 로딩 및 인코딩 처리** (cp949)
2. **컬럼명 확인 및 영문 변환**
3. **데이터 타입 변환** (대여월 → datetime)
4. **기초 통계량 확인** (shape, info, describe)

### L - Look Deeper (심층 탐색)
1. **월별 전체 신규 가입자 추이** (라인차트)
2. **성별 분포** (바차트, 파이차트)
3. **연령대 분포** (바차트)
4. **성별×연령대 히트맵**
5. **상관관계 분석** (월별 트렌드와 세그먼트)

### T - Transform (변환하기)
1. **컬럼명 정리**: `대여월`, `이용권코드`, `성별`, `연령대`, `신규가입자수`
2. **날짜 변환**: `pd.to_datetime(df['대여월'], format='%Y%m')`
3. **연령대 순서 정렬**: 커스텀 order (~10대 → 70대이상)
4. **파생 변수 생성**:
   - 전월 대비 증감률
   - 성별 비율
   - 연령대 비중
   - 세그먼트 ID (성별_연령대)

### R - Reveal Insights (인사이트 도출)
1. **핵심 패턴 3가지** 선정
2. **놀라운 발견** (Surprising Insights)
3. **비즈니스 임플리케이션**
4. **데이터가 말하는 스토리**

### A - Anticipate (예측하기)
1. **7월 신규 가입자 예측**
2. **성장 시나리오 분석**
3. **리스크 요인** (날씨, 경쟁, 정책 변화)

### T - Tell Story (스토리텔링)
**스토리 구조**:
```
제목: "따릉이 신규 가입자 폭발적 성장! 하지만 특정 연령층은 소외"

도입:
2022년 봄, 따릉이 신규 가입자가 급증했습니다.
하지만 모든 그룹이 동등하게 참여하고 있을까요?

발견 1: 봄철 신규 가입자 XX% 급증
발견 2: 20~30대가 전체의 XX% 차지
발견 3: 60대 이상과 여성 참여 저조

결론:
청년층 중심 성장은 고무적이나, 시니어와 여성 친화적 정책이
지속 가능한 성장의 열쇠입니다.

권고사항:
1. 시니어 대상 안전 교육 프로그램
2. 여성 전용 정거장 및 안심 구역 확대
3. 연령대별 맞춤형 프로모션
```

### H - Hypothesize (가설 수립)
**가설 예시**:
- H1: 따뜻한 날씨가 신규 가입자 증가에 영향을 미친다
- H2: 20대 남성이 가장 활발히 가입한다
- H3: 여성은 안전성 이슈로 가입을 꺼린다
- H4: 시니어는 디지털 접근성 문제로 가입률이 낮다

### I - Integrate (통합하기)
**추가 데이터 소스 제안**:
- 서울시 인구통계 데이터
- 날씨 데이터 (기온, 강수량)
- 정거장 위치 및 밀도 데이터
- 실제 이용 데이터 (대여 횟수)
- 고객 설문조사 데이터

### N - Navigate Complexity (복잡성 관리)
**우선순위**:
1. 핵심 세그먼트 (20~30대) 만족도 유지
2. 성장 세그먼트 (여성, 30대) 확대
3. 미개척 세그먼트 (시니어) 진입 전략

### K - Keep Ethical (윤리 준수)
- 개인 식별 정보 없음 (집계 데이터)
- 연령대와 성별만으로 차별하지 않기
- 공공 서비스로서 포용성 강조
- 모든 시민에게 평등한 접근 기회 보장

## 시각화 가이드

### 1. 월별 추이 (라인차트)
```python
plt.figure(figsize=(12, 6))
monthly_total = df.groupby('대여월')['신규가입자수'].sum()
monthly_total.plot(kind='line', marker='o', linewidth=2, markersize=8)
plt.title('월별 신규 가입자 수 추이', fontsize=16, fontweight='bold')
plt.xlabel('월', fontsize=12)
plt.ylabel('신규 가입자 수', fontsize=12)
plt.grid(True, alpha=0.3)
```

### 2. 성별 분포 (바차트)
```python
plt.figure(figsize=(10, 6))
gender_total = df.groupby('성별')['신규가입자수'].sum()
gender_total.plot(kind='bar', color=['#4A90E2', '#E24A90'])
plt.title('성별 신규 가입자 분포', fontsize=16)
plt.xticks(rotation=0)
```

### 3. 연령대 분포 (바차트)
```python
age_order = ['~10대', '20대', '30대', '40대', '50대', '60대', '70대이상', '기타']
age_total = df.groupby('연령대')['신규가입자수'].sum().reindex(age_order)
age_total.plot(kind='bar', color='skyblue')
```

### 4. 성별×연령대 히트맵
```python
pivot = df.pivot_table(values='신규가입자수',
                       index='성별',
                       columns='연령대',
                       aggfunc='sum')
sns.heatmap(pivot, annot=True, fmt='.0f', cmap='YlOrRd')
```

### 5. 월별 성별 추이 (스택 라인차트)
```python
monthly_gender = df.groupby(['대여월', '성별'])['신규가입자수'].sum().unstack()
monthly_gender.plot(kind='line', marker='o')
```

## 핵심 Python 코드 스니펫

```python
# 1. 데이터 로딩
df = pd.read_csv('data/raw/서울시 공공자전거 신규가입자 정보(월별).csv',
                 encoding='cp949')

# 2. 컬럼명 확인
print(df.columns.tolist())

# 3. 기초 통계
print(df.describe())
print(df.groupby('성별')['신규가입자수'].sum())
print(df.groupby('연령대')['신규가입자수'].sum())

# 4. 월별 전월 대비 증감률
monthly_total = df.groupby('대여월')['신규가입자수'].sum()
mom_growth = monthly_total.pct_change() * 100
print(f"전월 대비 평균 성장률: {mom_growth.mean():.2f}%")

# 5. Top 세그먼트
df['세그먼트'] = df['성별'] + '_' + df['연령대']
top_segments = df.groupby('세그먼트')['신규가입자수'].sum().nlargest(10)
print(top_segments)
```

## 최종 결과물 (Deliverables)

### 1. Jupyter 노트북
- 01_data_exploration.ipynb (완료)
- 02_trend_analysis.ipynb (월별 추이, 성장률)
- 03_demographic_analysis.ipynb (성별, 연령대, 세그먼트)
- 04_insights_and_recommendations.ipynb (인사이트, 권고사항)

### 2. 시각화 파일 (outputs/figures/)
- monthly_trend.png
- gender_distribution.png
- age_distribution.png
- segment_heatmap.png
- growth_rate.png

### 3. 분석 리포트 (outputs/reports/)
- executive_summary.pdf (경영진용 1페이지 요약)
- detailed_analysis.pdf (상세 분석 리포트)
- presentation.pptx (프레젠테이션 자료)

### 4. 클렌징된 데이터 (data/processed/)
- cleaned_seoulbike_newusers.csv
- aggregated_monthly.csv
- segment_summary.csv

## 기대 인사이트 예시

### 인사이트 1: 봄철 폭발적 성장
"2022년 4~6월 봄 시즌에 신규 가입자가 전월 대비 평균 45% 증가. 날씨 개선과 야외활동 증가가 주요 원인. 매년 봄철 프로모션 집중 권장."

### 인사이트 2: 20~30대 청년층 주도
"20대와 30대가 전체 신규 가입자의 68%를 차지. 청년층 중심 성장세는 긍정적이나, 중장년층 확대 전략 필요."

### 인사이트 3: 여성 참여 저조
"남성 신규 가입자가 여성보다 35% 많음. 여성 친화적 정책(안전성, 접근성, 인프라) 강화 시 30% 추가 성장 가능."

### 인사이트 4: 시니어 시장 미개척
"60대 이상 신규 가입자는 전체의 3% 미만. 고령화 사회 대비 시니어 타겟 정책(디지털 교육, 안전 프로그램) 시급."

### 인사이트 5: 일회성 이벤트 효과
"5월 신규 가입자 급증은 특정 프로모션 효과로 추정. 지속 가능한 성장 위해 고객 유지(Retention) 전략 병행 필요."

## 실행 가능한 권고사항

### 단기 (1~3개월)
1. **여름 시즌 프로모션**: 7~8월 연장 이용권 할인
2. **여성 타겟 캠페인**: "안전한 따릉이" 브랜딩
3. **대학가 중심 확장**: 20대 핵심 세그먼트 공략

### 중기 (3~6개월)
1. **시니어 디지털 교육**: 구청 협력 스마트폰 강좌
2. **기업 제휴**: 30~40대 직장인 대상 B2B 프로그램
3. **여성 안심 정거장**: CCTV, 조명 강화

### 장기 (6개월 이상)
1. **전 연령 포용 정책**: 모든 세그먼트 균형 성장
2. **데이터 기반 정거장 배치**: 저활용 지역 인프라 확충
3. **지속가능성 캠페인**: 환경 가치로 MZ세대 공략

---

**이 프롬프트 사용법**:
1. 분석 시작 전 이 프롬프트를 읽고 분석 방향 설정
2. 각 섹션별 질문에 답변하는 형태로 분석 진행
3. ULTRA-THINK 프레임워크를 단계별로 적용
4. 최종 결과물 체크리스트로 완성도 확인

**성공의 핵심**: 단순히 숫자를 보여주는 것이 아니라,
"왜 이런 패턴이 나타났는가?", "이것이 비즈니스에 무엇을 의미하는가?",
"우리는 무엇을 해야 하는가?"에 답하는 것입니다.
